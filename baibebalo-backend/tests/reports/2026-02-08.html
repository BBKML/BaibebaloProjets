<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Rapport BAIBEBALO - 2026-02-08</title>
  <style>
    body { font-family: system-ui, sans-serif; margin: 20px; background: #f5f5f5; }
    .container { max-width: 900px; margin: 0 auto; background: #fff; padding: 24px; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,.1); }
    h1 { color: #1a1a1a; }
    .cards { display: flex; flex-wrap: wrap; gap: 16px; margin: 20px 0; }
    .card { flex: 1; min-width: 140px; padding: 16px; background: #f9f9f9; border-radius: 8px; }
    .card h3 { margin: 0 0 8px 0; font-size: 14px; color: #666; }
    .card p { margin: 4px 0; }
    .success { color: #0a0; }
    .fail { color: #c00; }
    table { border-collapse: collapse; width: 100%; margin: 16px 0; }
    th, td { border: 1px solid #ddd; padding: 8px 12px; text-align: left; }
    th { background: #f0f0f0; }
    .recs { background: #fff8e6; padding: 12px; border-radius: 8px; margin: 16px 0; }
    .recs ul { margin: 0; padding-left: 20px; }
    code { background: #eee; padding: 2px 6px; border-radius: 4px; }
    a { color: #06c; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Rapport de tests BAIBEBALO</h1>
    <p><strong>Date :</strong> 2026-02-08 &nbsp;|&nbsp; <strong>Fichier :</strong> <a href="2026-02-08.html">2026-02-08.html</a></p>

    <div class="cards">
      <div class="card">
        <h3>Total tests</h3>
        <p><strong>13</strong></p>
      </div>
      <div class="card">
        <h3>Taux de réussite</h3>
        <p class="fail"><strong>54%</strong> (7 passés)</p>
      </div>
      <div class="card">
        <h3>Échecs</h3>
        <p class="fail"><strong>6</strong></p>
      </div>
      <div class="card">
        <h3>Temps d'exécution</h3>
        <p><strong>99.24 s</strong></p>
      </div>
      
    <div class="card">
      <h3>Couverture</h3>
      <p>Lignes : <strong>10%</strong></p>
    </div>
    </div>

    <h2>Tests par module</h2>
    <table>
      <thead><tr><th>Module</th><th>Passés</th><th>Échoués</th><th>Total</th></tr></thead>
      <tbody><tr><td colspan="4">Voir rapport détaillé ci-dessous pour le détail par fichier.</td></tr></tbody>
    </table>

    <h2>Recommandations</h2>
    <div class="recs"><ul><li>• 6 test(s) en échec : vérifier les assertions et les mocks.</li><li>• Couverture de code faible : viser au moins 50 % sur les lignes.</li></ul></div>

    <h2>Détail des tests</h2>
    <hr style="margin: 24px 0;">
    <h2>Détail des tests (jest-html-reporter)</h2>
    <p>Ci-dessous : rapport détaillé généré par jest-html-reporter.</p>
  </div>
  <div class="jesthtml-content"><header><h1 id="title">BAIBEBALO Test Report</h1></header><div id="metadata-container"><div id="timestamp">Started: 2026-02-08 19:27:27</div><div id="summary"><div id="suite-summary"><div class="summary-total">Suites (13)</div><div class="summary-passed ">7 passed</div><div class="summary-failed ">6 failed</div><div class="summary-pending  summary-empty">0 pending</div></div><div id="test-summary"><div class="summary-total">Tests (197)</div><div class="summary-passed ">170 passed</div><div class="summary-failed ">27 failed</div><div class="summary-pending  summary-empty">0 pending</div></div></div></div><div id="suite-1" class="suite-container"><input id="collapsible-0" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-0"><div class="suite-info"><div class="suite-path">C:\Users\booke\BaibebaloProjets\baibebalo-backend\tests\integration\restaurant-flow.test.js</div><div class="suite-time warn">46.743s</div></div></label><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Restaurant E2E complet</div><div class="test-title">1. Restaurant s'inscrit avec documents</div><div class="test-status">passed</div><div class="test-duration">0.335s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Restaurant E2E complet</div><div class="test-title">2. Attend validation admin (délai 2-5 jours simulé)</div><div class="test-status">passed</div><div class="test-duration">0.003s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Restaurant E2E complet</div><div class="test-title">3. Admin valide le restaurant</div><div class="test-status">passed</div><div class="test-duration">0.076s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Restaurant E2E complet</div><div class="test-title">4. Restaurant crée menu : catégorie Plats principaux, Poulet Bicyclette 3000, Riz Sauce Graine 2500</div><div class="test-status">passed</div><div class="test-duration">0.178s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Restaurant E2E complet</div><div class="test-title">5. Restaurant configure horaires (8h-22h)</div><div class="test-status">passed</div><div class="test-duration">0.017s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Restaurant E2E complet</div><div class="test-title">6. Restaurant passe en Ouvert</div><div class="test-status">passed</div><div class="test-duration">0.056s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Restaurant E2E complet</div><div class="test-title">7. Reçoit nouvelle commande (notification)</div><div class="test-status">passed</div><div class="test-duration">0.264s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Restaurant E2E complet</div><div class="test-title">8. Accepte la commande en moins de 2 minutes</div><div class="test-status">passed</div><div class="test-duration">0.096s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Restaurant E2E complet</div><div class="test-title">9. Marque la commande en préparation</div><div class="test-status">passed</div><div class="test-duration">0.013s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Restaurant E2E complet</div><div class="test-title">10. Marque la commande prête (après 20 min)</div><div class="test-status">passed</div><div class="test-duration">0.077s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Restaurant E2E complet</div><div class="test-title">11. Livreur récupère la commande</div><div class="test-status">passed</div><div class="test-duration">0.009s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Restaurant E2E complet</div><div class="test-title">12. Livreur marque la commande livrée</div><div class="test-status">passed</div><div class="test-duration">0.109s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Restaurant E2E complet</div><div class="test-title">13. Reçoit avis client (4/5)</div><div class="test-status">passed</div><div class="test-duration">0.009s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Restaurant E2E complet</div><div class="test-title">14. Restaurant répond à l'avis</div><div class="test-status">passed</div><div class="test-duration">0.012s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Restaurant E2E complet</div><div class="test-title">15. Consulte statistiques du jour (revenu net et cohérence)</div><div class="test-status">passed</div><div class="test-duration">0.115s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Restaurant E2E complet</div><div class="test-title">16. Demande paiement (retrait gains)</div><div class="test-status">passed</div><div class="test-duration">0.007s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Restaurant E2E complet</div><div class="test-title">17. Crée promotion -20% sur Poulet Bicyclette</div><div class="test-status">passed</div><div class="test-duration">0.024s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Restaurant E2E complet</div><div class="test-title">18. Ferme temporairement (congés)</div><div class="test-status">passed</div><div class="test-duration">0.057s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Restaurant E2E complet</div><div class="test-title">vérifie la timeline des statuts de la commande</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div></div></div><div id="suite-2" class="suite-container"><input id="collapsible-1" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-1"><div class="suite-info"><div class="suite-path">C:\Users\booke\BaibebaloProjets\baibebalo-backend\tests\api\admin.test.js</div><div class="suite-time warn">47.563s</div></div></label><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; Permissions admin</div><div class="test-title">doit refuser l’accès au dashboard sans token</div><div class="test-status">passed</div><div class="test-duration">0.283s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; Permissions admin</div><div class="test-title">doit refuser l’accès au dashboard avec un token client</div><div class="test-status">passed</div><div class="test-duration">0.017s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Admin API &gt; Permissions admin</div><div class="test-title">doit accepter l’accès au dashboard avec un token admin</div><div class="test-status">failed</div><div class="test-duration">0.069s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Admin API &gt; 1. Login admin</div><div class="test-title">doit connecter un admin avec email et mot de passe</div><div class="test-status">failed</div><div class="test-duration">0.197s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; 1. Login admin</div><div class="test-title">doit rejeter un login avec mot de passe incorrect</div><div class="test-status">passed</div><div class="test-duration">0.065s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Admin API &gt; 2. Dashboard</div><div class="test-title">doit retourner les stats globales du dashboard</div><div class="test-status">failed</div><div class="test-duration">0.013s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; 3. Liste restaurants en attente</div><div class="test-title">doit lister les restaurants avec statut pending</div><div class="test-status">passed</div><div class="test-duration">0.067s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; 4. Validation restaurant</div><div class="test-title">doit approuver un restaurant en attente</div><div class="test-status">passed</div><div class="test-duration">0.01s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; 5. Refus restaurant</div><div class="test-title">doit rejeter un restaurant avec motif</div><div class="test-status">passed</div><div class="test-duration">0.082s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; 6. Liste livreurs en attente</div><div class="test-title">doit lister les livreurs avec statut pending</div><div class="test-status">passed</div><div class="test-duration">0.07s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; 7. Validation livreur</div><div class="test-title">doit approuver un livreur en attente</div><div class="test-status">passed</div><div class="test-duration">0.015s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; 8. Suspension livreur</div><div class="test-title">doit suspendre un livreur et vérifier le comportement</div><div class="test-status">passed</div><div class="test-duration">0.009s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; 9. Liste commandes</div><div class="test-title">doit lister toutes les commandes</div><div class="test-status">passed</div><div class="test-duration">0.012s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; 10. Filtrage commandes</div><div class="test-title">doit filtrer par statut, date et montant</div><div class="test-status">passed</div><div class="test-duration">0.011s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; 11. Annulation commande</div><div class="test-title">doit permettre à l’admin d’annuler une commande</div><div class="test-status">passed</div><div class="test-duration">0.008s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; 12. Réassignation livreur</div><div class="test-title">doit réassigner une commande à un autre livreur</div><div class="test-status">passed</div><div class="test-duration">0.011s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; 13. Gestion tickets support</div><div class="test-title">doit lister les tickets support</div><div class="test-status">passed</div><div class="test-duration">0.053s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; 14. Résolution ticket et remboursement</div><div class="test-title">doit fermer un ticket support</div><div class="test-status">passed</div><div class="test-duration">0.009s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; 14. Résolution ticket et remboursement</div><div class="test-title">doit approuver un remboursement</div><div class="test-status">passed</div><div class="test-duration">0.007s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; 15. Création code promo</div><div class="test-title">doit créer un code promo global</div><div class="test-status">passed</div><div class="test-duration">0.011s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; 16. Désactivation code promo</div><div class="test-title">doit désactiver un code promo</div><div class="test-status">passed</div><div class="test-duration">0.084s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; 17. Analytics</div><div class="test-title">doit retourner les analytics (CA, conversions)</div><div class="test-status">passed</div><div class="test-duration">0.009s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; 18. Export données</div><div class="test-title">doit exporter les commandes en CSV</div><div class="test-status">passed</div><div class="test-duration">0.012s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; 19. Configuration frais livraison</div><div class="test-title">doit mettre à jour les paramètres (frais livraison)</div><div class="test-status">passed</div><div class="test-duration">0.092s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; 20. Modification commission restaurant</div><div class="test-title">doit modifier le taux de commission d’un restaurant</div><div class="test-status">passed</div><div class="test-duration">0.007s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; Logs des actions admin</div><div class="test-title">le logger est appelé lors d’une action admin</div><div class="test-status">passed</div><div class="test-duration">0.01s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Admin API &gt; Notifications aux utilisateurs</div><div class="test-title">le service de notification est disponible pour les actions admin</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div></div></div><div id="suite-3" class="suite-container"><input id="collapsible-2" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-2"><div class="suite-info"><div class="suite-path">C:\Users\booke\BaibebaloProjets\baibebalo-backend\tests\api\orders.test.js</div><div class="suite-time">0s</div></div></label><div class="suite-tests"/></div><div id="suite-4" class="suite-container"><input id="collapsible-3" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-3"><div class="suite-info"><div class="suite-path">C:\Users\booke\BaibebaloProjets\baibebalo-backend\tests\api\restaurants.test.js</div><div class="suite-time warn">49.056s</div></div></label><div class="suite-tests"><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 1. Inscription nouveau restaurant</div><div class="test-title">doit créer un restaurant avec tous les champs et retourner status pending</div><div class="test-status">failed</div><div class="test-duration">0.312s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 2. Inscription restaurant sans champs obligatoires</div><div class="test-title">doit rejeter l'inscription sans catégorie</div><div class="test-status">passed</div><div class="test-duration">0.09s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 2. Inscription restaurant sans champs obligatoires</div><div class="test-title">doit rejeter l'inscription sans mot de passe valide</div><div class="test-status">passed</div><div class="test-duration">0.013s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 3. Admin valide le restaurant (pending → active)</div><div class="test-title">doit passer le statut à active</div><div class="test-status">failed</div><div class="test-duration">0.116s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 4. Admin refuse le restaurant (pending → rejected)</div><div class="test-title">doit passer le statut à rejected</div><div class="test-status">failed</div><div class="test-duration">0.014s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 5. Ajout article au menu</div><div class="test-title">doit créer un nouvel article et retourner 201</div><div class="test-status">failed</div><div class="test-duration">0.085s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 6. Modification article menu</div><div class="test-title">doit mettre à jour le prix et la description</div><div class="test-status">failed</div><div class="test-duration">0.011s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 7. Suppression article menu</div><div class="test-title">doit supprimer ou désactiver l'article</div><div class="test-status">failed</div><div class="test-duration">0.011s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 8. Désactivation article (rupture de stock)</div><div class="test-title">doit basculer is_available à false</div><div class="test-status">failed</div><div class="test-duration">0.071s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 9. Création catégorie menu</div><div class="test-title">doit créer une nouvelle catégorie</div><div class="test-status">failed</div><div class="test-duration">0.013s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 10. Modification horaires ouverture</div><div class="test-title">doit mettre à jour opening_hours via PUT /me</div><div class="test-status">failed</div><div class="test-duration">0.063s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 11. Fermeture temporaire restaurant</div><div class="test-title">doit mettre is_open à false via toggle-status</div><div class="test-status">failed</div><div class="test-duration">0.071s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 12. Réouverture restaurant</div><div class="test-title">doit mettre is_open à true</div><div class="test-status">failed</div><div class="test-duration">0.086s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 13. Consultation statistiques (CA, commandes, notes)</div><div class="test-title">doit retourner total_revenue, total_orders, average_rating</div><div class="test-status">failed</div><div class="test-duration">0.015s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 14. Consultation historique commandes</div><div class="test-title">doit retourner la liste des commandes du restaurant</div><div class="test-status">failed</div><div class="test-duration">0.098s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 15. Recherche restaurants par catégorie</div><div class="test-title">doit filtrer par query category</div><div class="test-status">passed</div><div class="test-duration">0.076s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 16. Recherche restaurants par distance</div><div class="test-title">doit accepter latitude, longitude, radius</div><div class="test-status">passed</div><div class="test-duration">0.011s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 17. Filtrage restaurants (note, prix)</div><div class="test-title">doit accepter min_rating et min_price / max_price</div><div class="test-status">failed</div><div class="test-duration">0.177s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 18. Création promotion (-20% sur un plat)</div><div class="test-title">doit activer une promotion pourcentage sur un article</div><div class="test-status">failed</div><div class="test-duration">0.01s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 19. Désactivation promotion</div><div class="test-title">doit désactiver la promotion sur l'article</div><div class="test-status">failed</div><div class="test-duration">0.009s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 20. Récupération avis clients</div><div class="test-title">GET /restaurants/me/reviews doit retourner les avis</div><div class="test-status">failed</div><div class="test-duration">0.066s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; 20. Récupération avis clients</div><div class="test-title">GET /restaurants/:id/reviews (public) doit retourner les avis</div><div class="test-status">passed</div><div class="test-duration">0.053s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; Permissions - Client ne peut pas modifier le menu</div><div class="test-title">POST /restaurants/me/menu doit retourner 403 pour un client</div><div class="test-status">failed</div><div class="test-duration">0.011s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; Permissions - Client ne peut pas modifier le menu</div><div class="test-title">PUT /restaurants/me/menu/:itemId doit retourner 403 pour un client</div><div class="test-status">failed</div><div class="test-duration">0.011s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; Permissions - Client ne peut pas modifier le menu</div><div class="test-title">DELETE /restaurants/me/menu/:itemId doit retourner 403 pour un client</div><div class="test-status">failed</div><div class="test-duration">0.06s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; Permissions - Restaurant ne peut modifier que son propre menu</div><div class="test-title">PUT /restaurants/me/menu/:itemId d’un autre restaurant doit retourner 404</div><div class="test-status">failed</div><div class="test-duration">0.009s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; Permissions - Admin peut modifier un restaurant</div><div class="test-title">PUT /admin/restaurants/:id/commission doit accepter l’admin</div><div class="test-status">failed</div><div class="test-duration">0.007s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; Permissions - Admin peut modifier un restaurant</div><div class="test-title">GET /admin/restaurants/:id doit retourner les détails pour l’admin</div><div class="test-status">failed</div><div class="test-duration">0.01s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; GET /restaurants (liste publique)</div><div class="test-title">doit retourner la liste des restaurants actifs</div><div class="test-status">passed</div><div class="test-duration">0.204s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; GET /restaurants/:id (détails publics)</div><div class="test-title">doit retourner les détails d’un restaurant</div><div class="test-status">passed</div><div class="test-duration">0.01s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Restaurants API - Gestion complète &gt; GET /restaurants/:id/menu (public)</div><div class="test-title">doit retourner le menu d’un restaurant</div><div class="test-status">passed</div><div class="test-duration">0.013s</div></div></div></div></div><div id="suite-5" class="suite-container"><input id="collapsible-4" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-4"><div class="suite-info"><div class="suite-path">C:\Users\booke\BaibebaloProjets\baibebalo-backend\tests\integration\delivery-flow.test.js</div><div class="suite-time">4.838s</div></div></label><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">1. Livreur s'inscrit avec documents moto</div><div class="test-status">passed</div><div class="test-duration">0.183s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">2. Upload permis, carte grise, assurance</div><div class="test-status">passed</div><div class="test-duration">0.091s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">3. Admin valide les documents du livreur</div><div class="test-status">passed</div><div class="test-duration">0.013s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">4. Livreur complète formation (vidéos + quiz)</div><div class="test-status">passed</div><div class="test-duration">0.083s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">5. Livreur passe Disponible</div><div class="test-status">passed</div><div class="test-duration">0.01s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">6. Reçoit alerte nouvelle course (notification)</div><div class="test-status">passed</div><div class="test-duration">0.01s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">7. Accepte la course en moins de 30 secondes</div><div class="test-status">passed</div><div class="test-duration">0.01s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">8. Navigation vers restaurant (GPS)</div><div class="test-status">passed</div><div class="test-duration">0.059s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">9. Met à jour position toutes les 10 secondes</div><div class="test-status">passed</div><div class="test-duration">0.029s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">10. Arrive au restaurant, signale arrivée</div><div class="test-status">passed</div><div class="test-duration">0.059s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">11. Récupère la commande (scan QR code)</div><div class="test-status">passed</div><div class="test-duration">0.008s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">12. Navigation vers client</div><div class="test-status">passed</div><div class="test-duration">0.011s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">13. Arrive chez client</div><div class="test-status">passed</div><div class="test-duration">0.008s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">14. Collecte paiement cash (5450 FCFA)</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">15. Photo de livraison</div><div class="test-status">passed</div><div class="test-duration">0.067s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">16. Marque la commande comme livrée</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">17. Reçoit avis client (5/5)</div><div class="test-status">passed</div><div class="test-duration">0.009s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">18. Gagne 1750 FCFA pour cette course (70% frais livraison)</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">19. Consulte gains du jour</div><div class="test-status">passed</div><div class="test-duration">0.01s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">20. Demande retrait (50 000 FCFA)</div><div class="test-status">passed</div><div class="test-duration">0.1s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">vérifie le calcul de rémunération (70% frais livraison)</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">vérifie que les bonus (distance, heure de pointe) sont applicables</div><div class="test-status">passed</div><div class="test-duration">0.198s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">vérifie que la position GPS peut être mise à jour</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Livreur E2E complet</div><div class="test-title">vérifie que les notifications temps réel sont mockées</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div></div></div><div id="suite-6" class="suite-container"><input id="collapsible-5" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-5"><div class="suite-info"><div class="suite-path">C:\Users\booke\BaibebaloProjets\baibebalo-backend\tests\integration\client-flow.test.js</div><div class="suite-time">4.423s</div></div></label><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Client E2E complet</div><div class="test-title">1. Client s’inscrit avec +225XXXXXXXXX</div><div class="test-status">passed</div><div class="test-duration">0.099s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Client E2E complet</div><div class="test-title">2. Reçoit et valide OTP</div><div class="test-status">passed</div><div class="test-duration">0.1s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Client E2E complet</div><div class="test-title">3. Complète son profil (nom, email)</div><div class="test-status">passed</div><div class="test-duration">0.093s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Client E2E complet</div><div class="test-title">4. Ajoute une adresse de livraison</div><div class="test-status">passed</div><div class="test-duration">0.017s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Client E2E complet</div><div class="test-title">5. Recherche "poulet"</div><div class="test-status">passed</div><div class="test-duration">0.032s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Client E2E complet</div><div class="test-title">6. Filtre par distance &lt; 5km</div><div class="test-status">passed</div><div class="test-duration">0.16s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Client E2E complet</div><div class="test-title">7. Ouvre restaurant "Chez Marie"</div><div class="test-status">passed</div><div class="test-duration">0.02s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Client E2E complet</div><div class="test-title">8. Ajoute 2x Poulet Bicyclette au panier</div><div class="test-status">passed</div><div class="test-duration">0s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Client E2E complet</div><div class="test-title">9. Ajoute 1x Coca au panier</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Client E2E complet</div><div class="test-title">10. Applique code promo "BIENVENUE" (-50%)</div><div class="test-status">passed</div><div class="test-duration">0.041s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Client E2E complet</div><div class="test-title">11. Valide commande (paiement cash)</div><div class="test-status">passed</div><div class="test-duration">0.011s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Client E2E complet</div><div class="test-title">12. Reçoit confirmation (notification push)</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Client E2E complet</div><div class="test-title">13. Suit la commande en temps réel</div><div class="test-status">passed</div><div class="test-duration">0.011s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Client E2E complet</div><div class="test-title">14. Reçoit la commande</div><div class="test-status">passed</div><div class="test-duration">0.088s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Client E2E complet</div><div class="test-title">15. Note restaurant (4.5/5) et 16. Note livreur (5/5)</div><div class="test-status">passed</div><div class="test-duration">0.011s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Client E2E complet</div><div class="test-title">17. Consulte historique</div><div class="test-status">passed</div><div class="test-duration">0.012s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Parcours Client E2E complet</div><div class="test-title">18. Commande à nouveau (même restaurant)</div><div class="test-status">passed</div><div class="test-duration">0.184s</div></div></div></div></div><div id="suite-7" class="suite-container"><input id="collapsible-6" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-6"><div class="suite-info"><div class="suite-path">C:\Users\booke\BaibebaloProjets\baibebalo-backend\tests\api\delivery.test.js</div><div class="suite-time warn">5.296s</div></div></label><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Delivery API &gt; POST /delivery/register</div><div class="test-title">devrait inscrire un nouveau livreur</div><div class="test-status">passed</div><div class="test-duration">0.105s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Delivery API &gt; GET /delivery/me</div><div class="test-title">devrait retourner le profil du livreur connecté</div><div class="test-status">passed</div><div class="test-duration">0.011s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Delivery API &gt; GET /delivery/me</div><div class="test-title">devrait rejeter les requêtes sans authentification</div><div class="test-status">passed</div><div class="test-duration">0.006s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Delivery API &gt; PUT /delivery/me</div><div class="test-title">devrait mettre à jour le profil du livreur</div><div class="test-status">passed</div><div class="test-duration">0.097s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Delivery API &gt; PUT /delivery/status</div><div class="test-title">devrait mettre à jour le statut de disponibilité</div><div class="test-status">passed</div><div class="test-duration">0.009s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Delivery API &gt; PUT /delivery/location</div><div class="test-title">devrait mettre à jour la position GPS du livreur</div><div class="test-status">passed</div><div class="test-duration">0.008s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Delivery API &gt; GET /delivery/available-orders</div><div class="test-title">devrait retourner les commandes disponibles à proximité</div><div class="test-status">passed</div><div class="test-duration">0.065s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Delivery API &gt; PUT /delivery/orders/:id/accept</div><div class="test-title">devrait accepter une course proposée</div><div class="test-status">passed</div><div class="test-duration">0.011s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Delivery API &gt; PUT /delivery/orders/:id/decline</div><div class="test-title">devrait décliner une course proposée</div><div class="test-status">passed</div><div class="test-duration">0.007s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Delivery API &gt; PUT /delivery/orders/:id/arrive-restaurant</div><div class="test-title">devrait signaler l'arrivée au restaurant</div><div class="test-status">passed</div><div class="test-duration">0.009s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Delivery API &gt; PUT /delivery/orders/:id/pickup</div><div class="test-title">devrait confirmer la récupération de la commande</div><div class="test-status">passed</div><div class="test-duration">0.093s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Delivery API &gt; PUT /delivery/orders/:id/arrive-customer</div><div class="test-title">devrait signaler l'arrivée chez le client</div><div class="test-status">passed</div><div class="test-duration">0.532s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Delivery API &gt; PUT /delivery/orders/:id/deliver</div><div class="test-title">devrait confirmer la livraison finale</div><div class="test-status">passed</div><div class="test-duration">0.131s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Delivery API &gt; GET /delivery/earnings</div><div class="test-title">devrait retourner les gains du livreur</div><div class="test-status">passed</div><div class="test-duration">0.053s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Delivery API &gt; GET /delivery/cash-remittances/orders-pending</div><div class="test-title">devrait retourner les commandes en espèces à remettre</div><div class="test-status">passed</div><div class="test-duration">0.015s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Delivery API &gt; POST /delivery/cash-remittances</div><div class="test-title">devrait créer une remise d'espèces</div><div class="test-status">passed</div><div class="test-duration">0.016s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Delivery API &gt; GET /delivery/history</div><div class="test-title">devrait retourner l'historique des livraisons</div><div class="test-status">passed</div><div class="test-duration">0.021s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Delivery API &gt; GET /delivery/statistics</div><div class="test-title">devrait retourner les statistiques du livreur</div><div class="test-status">passed</div><div class="test-duration">0.114s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Delivery API &gt; GET /delivery/dashboard</div><div class="test-title">devrait retourner le tableau de bord livreur</div><div class="test-status">passed</div><div class="test-duration">0.011s</div></div></div></div></div><div id="suite-8" class="suite-container"><input id="collapsible-7" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-7"><div class="suite-info"><div class="suite-path">C:\Users\booke\BaibebaloProjets\baibebalo-backend\tests\performance\load.test.js</div><div class="suite-time">0s</div></div></label><div class="suite-tests"/></div><div id="suite-9" class="suite-container"><input id="collapsible-8" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-8"><div class="suite-info"><div class="suite-path">C:\Users\booke\BaibebaloProjets\baibebalo-backend\tests\api\payments.test.js</div><div class="suite-time">3.763s</div></div></label><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Payments API &gt; POST /orders/:id/payment/initiate</div><div class="test-title">devrait initier un paiement en espèces</div><div class="test-status">passed</div><div class="test-duration">0.137s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Payments API &gt; POST /orders/:id/payment/initiate</div><div class="test-title">devrait initier un paiement Orange Money</div><div class="test-status">passed</div><div class="test-duration">0.011s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Payments API &gt; POST /orders/:id/payment/initiate</div><div class="test-title">devrait rejeter un paiement pour une commande inexistante</div><div class="test-status">passed</div><div class="test-duration">0.009s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Payments API &gt; GET /orders/:id/payment/status</div><div class="test-title">devrait retourner le statut de paiement d'une commande</div><div class="test-status">passed</div><div class="test-duration">0.073s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Payments API &gt; POST /webhooks/orange-money</div><div class="test-title">devrait traiter un webhook Orange Money de paiement réussi</div><div class="test-status">passed</div><div class="test-duration">0.008s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Payments API &gt; POST /webhooks/mtn-momo</div><div class="test-title">devrait traiter un webhook MTN MoMo de paiement réussi</div><div class="test-status">passed</div><div class="test-duration">0.011s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Payments API &gt; POST /restaurants/me/payout-request</div><div class="test-title">devrait créer une demande de payout restaurant</div><div class="test-status">passed</div><div class="test-duration">0.133s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Payments API &gt; POST /delivery/payout-request</div><div class="test-title">devrait créer une demande de payout livreur</div><div class="test-status">passed</div><div class="test-duration">0.008s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Payments API &gt; GET /admin/finances/overview</div><div class="test-title">devrait retourner la vue d'ensemble financière (admin)</div><div class="test-status">passed</div><div class="test-duration">0.009s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Payments API &gt; GET /admin/finances/overview</div><div class="test-title">devrait rejeter l'accès sans droits admin</div><div class="test-status">passed</div><div class="test-duration">0.01s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Payments API &gt; GET /admin/finances/payouts</div><div class="test-title">devrait retourner les demandes de payout en attente</div><div class="test-status">passed</div><div class="test-duration">0.073s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Payments API &gt; PUT /admin/finances/payouts/:id/process</div><div class="test-title">devrait traiter un payout (admin)</div><div class="test-status">passed</div><div class="test-duration">0.073s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Payments API &gt; GET /admin/finances/commission-settings</div><div class="test-title">devrait retourner les paramètres de commission</div><div class="test-status">passed</div><div class="test-duration">0.01s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Payments API &gt; PUT /admin/finances/commission-settings</div><div class="test-title">devrait mettre à jour les paramètres de commission</div><div class="test-status">passed</div><div class="test-duration">0.011s</div></div></div></div></div><div id="suite-10" class="suite-container"><input id="collapsible-9" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-9"><div class="suite-info"><div class="suite-path">C:\Users\booke\BaibebaloProjets\baibebalo-backend\tests\api\users.test.js</div><div class="suite-time">4.014s</div></div></label><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Users API &gt; GET /users/me</div><div class="test-title">devrait retourner le profil de l'utilisateur connecté</div><div class="test-status">passed</div><div class="test-duration">0.013s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Users API &gt; GET /users/me</div><div class="test-title">devrait rejeter les requêtes sans authentification</div><div class="test-status">passed</div><div class="test-duration">0.01s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Users API &gt; PUT /users/me</div><div class="test-title">devrait mettre à jour le profil utilisateur</div><div class="test-status">passed</div><div class="test-duration">0.021s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Users API &gt; PUT /users/me</div><div class="test-title">devrait rejeter une mise à jour avec des données invalides</div><div class="test-status">passed</div><div class="test-duration">0.069s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Users API &gt; GET /users/me/addresses</div><div class="test-title">devrait retourner les adresses de l'utilisateur</div><div class="test-status">passed</div><div class="test-duration">0.011s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Users API &gt; POST /users/me/addresses</div><div class="test-title">devrait créer une nouvelle adresse</div><div class="test-status">passed</div><div class="test-duration">0.057s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Users API &gt; POST /users/me/addresses</div><div class="test-title">devrait rejeter une adresse sans label</div><div class="test-status">passed</div><div class="test-duration">0.01s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Users API &gt; PUT /users/me/addresses/:id</div><div class="test-title">devrait mettre à jour une adresse existante</div><div class="test-status">passed</div><div class="test-duration">0.007s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Users API &gt; DELETE /users/me/addresses/:id</div><div class="test-title">devrait supprimer une adresse</div><div class="test-status">passed</div><div class="test-duration">0.011s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Users API &gt; GET /users/me/favorites</div><div class="test-title">devrait retourner les restaurants favoris</div><div class="test-status">passed</div><div class="test-duration">0.062s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Users API &gt; POST /users/me/favorites/:restaurantId</div><div class="test-title">devrait ajouter un restaurant aux favoris</div><div class="test-status">passed</div><div class="test-duration">0.03s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Users API &gt; DELETE /users/me/favorites/:restaurantId</div><div class="test-title">devrait retirer un restaurant des favoris</div><div class="test-status">passed</div><div class="test-duration">0.008s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Users API &gt; GET /users/me/orders</div><div class="test-title">devrait retourner l'historique des commandes du client</div><div class="test-status">passed</div><div class="test-duration">0.161s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Users API &gt; GET /users/me/loyalty</div><div class="test-title">devrait retourner les points de fidélité du client</div><div class="test-status">passed</div><div class="test-duration">0.017s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Users API &gt; GET /users/me/notification-preferences</div><div class="test-title">devrait retourner les préférences de notification</div><div class="test-status">passed</div><div class="test-duration">0.012s</div></div></div></div></div><div id="suite-11" class="suite-container"><input id="collapsible-10" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-10"><div class="suite-info"><div class="suite-path">C:\Users\booke\BaibebaloProjets\baibebalo-backend\tests\api\auth.test.js</div><div class="suite-time">0s</div></div></label><div class="suite-tests"/></div><div id="suite-12" class="suite-container"><input id="collapsible-11" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-11"><div class="suite-info"><div class="suite-path">C:\Users\booke\BaibebaloProjets\baibebalo-backend\tests\security\security.test.js</div><div class="suite-time warn">7.188s</div></div></label><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Sécurité API - Tests OWASP / bonnes pratiques &gt; 1. SQL injection</div><div class="test-title">rejette ou échappe les payloads SQL dans send-otp (phone)</div><div class="test-status">passed</div><div class="test-duration">0.98s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Sécurité API - Tests OWASP / bonnes pratiques &gt; 1. SQL injection</div><div class="test-title">utilise des paramètres préparés (pas de concat SQL brut)</div><div class="test-status">passed</div><div class="test-duration">0.283s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Sécurité API - Tests OWASP / bonnes pratiques &gt; 2. XSS</div><div class="test-title">rejette ou sanitize les champs avec balises script dans verify-otp</div><div class="test-status">passed</div><div class="test-duration">0.013s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Sécurité API - Tests OWASP / bonnes pratiques &gt; 3. Accès sans token</div><div class="test-title">retourne 401 sur route protégée sans Authorization</div><div class="test-status">passed</div><div class="test-duration">0.01s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Sécurité API - Tests OWASP / bonnes pratiques &gt; 4. Token expiré</div><div class="test-title">retourne 401 avec token JWT expiré</div><div class="test-status">passed</div><div class="test-duration">0.066s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Sécurité API - Tests OWASP / bonnes pratiques &gt; 5. Accès ressource autre utilisateur (403)</div><div class="test-title">refuse l'accès à une commande d'un autre utilisateur (401 ou 403)</div><div class="test-status">passed</div><div class="test-duration">0.013s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Sécurité API - Tests OWASP / bonnes pratiques &gt; 6. Rate limiting</div><div class="test-title">bloque après trop de tentatives de login (auth limiter)</div><div class="test-status">passed</div><div class="test-duration">0.395s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Sécurité API - Tests OWASP / bonnes pratiques &gt; 7. Validation input (téléphone CI)</div><div class="test-title">rejette les numéros hors format Côte d'Ivoire</div><div class="test-status">passed</div><div class="test-duration">0.656s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Sécurité API - Tests OWASP / bonnes pratiques &gt; 7. Validation input (téléphone CI)</div><div class="test-title">accepte un numéro CI valide (+225 07/05/01...)</div><div class="test-status">passed</div><div class="test-duration">0.084s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Sécurité API - Tests OWASP / bonnes pratiques &gt; 8. Upload fichier (type / taille)</div><div class="test-title">rejette les types de fichier non autorisés</div><div class="test-status">passed</div><div class="test-duration">0.012s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Sécurité API - Tests OWASP / bonnes pratiques &gt; 8. Upload fichier (type / taille)</div><div class="test-title">utilise une limite de taille (config upload)</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Sécurité API - Tests OWASP / bonnes pratiques &gt; 9. CORS</div><div class="test-title">envoie des en-têtes CORS cohérents sur requête avec Origin</div><div class="test-status">passed</div><div class="test-duration">0.081s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Sécurité API - Tests OWASP / bonnes pratiques &gt; 10. Headers sécurité (Helmet)</div><div class="test-title">applique des en-têtes de sécurité sur les réponses</div><div class="test-status">passed</div><div class="test-duration">0.01s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Sécurité API - Tests OWASP / bonnes pratiques &gt; 11. Mots de passe hashés (bcrypt)</div><div class="test-title">utilise bcrypt pour hasher les mots de passe (pas de stockage en clair)</div><div class="test-status">passed</div><div class="test-duration">0.952s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Sécurité API - Tests OWASP / bonnes pratiques &gt; 12. JWT signés correctement</div><div class="test-title">token signé avec le secret est valide côté backend</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Sécurité API - Tests OWASP / bonnes pratiques &gt; 12. JWT signés correctement</div><div class="test-title">token signé avec un mauvais secret est rejeté</div><div class="test-status">passed</div><div class="test-duration">0.014s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Sécurité API - Tests OWASP / bonnes pratiques &gt; 13. HTTPS (production)</div><div class="test-title">config ou middleware prévoit un comportement sécurisé en production</div><div class="test-status">passed</div><div class="test-duration">0.001s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Sécurité API - Tests OWASP / bonnes pratiques &gt; 14. Pas de données sensibles dans les logs</div><div class="test-title">le logger ne reçoit pas le mot de passe en clair dans les erreurs auth</div><div class="test-status">passed</div><div class="test-duration">0.006s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Sécurité API - Tests OWASP / bonnes pratiques &gt; 15. Session timeout (JWT exp)</div><div class="test-title">les tokens JWT émis ont une date d'expiration</div><div class="test-status">passed</div><div class="test-duration">0.002s</div></div></div></div></div><div id="suite-13" class="suite-container"><input id="collapsible-12" type="checkbox" class="toggle" checked="checked"/><label for="collapsible-12"><div class="suite-info"><div class="suite-path">C:\Users\booke\BaibebaloProjets\baibebalo-backend\tests\api\socket.test.js</div><div class="suite-time warn">15.535s</div></div></label><div class="suite-tests"><div class="test-result passed"><div class="test-info"><div class="test-suitename">Socket.IO - Communications temps réel &gt; 1. Client se connecte au socket</div><div class="test-title">connecte un client au namespace /client avec token et reçoit connect</div><div class="test-status">passed</div><div class="test-duration">1.365s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Socket.IO - Communications temps réel &gt; 2. Client rejoint room de sa commande</div><div class="test-title">client rejoint order_XXX et reste dans la room</div><div class="test-status">passed</div><div class="test-duration">0.246s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Socket.IO - Communications temps réel &gt; 3. Restaurant met à jour statut → Client reçoit notif</div><div class="test-title">client dans order_XXX reçoit order_status_changed en &lt; 100ms</div><div class="test-status">passed</div><div class="test-duration">0.103s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Socket.IO - Communications temps réel &gt; 4. Livreur met à jour position → Client reçoit update</div><div class="test-title">client reçoit delivery_location_updated quand livreur envoie location_update</div><div class="test-status">passed</div><div class="test-duration">0.364s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Socket.IO - Communications temps réel &gt; 5. Nouveau message chat → Destinataire reçoit</div><div class="test-title">client reçoit new_order_message (émission côté app)</div><div class="test-status">passed</div><div class="test-duration">0.475s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Socket.IO - Communications temps réel &gt; 6. Déconnexion/reconnexion automatique</div><div class="test-title">reconnexion automatique après disconnect</div><div class="test-status">passed</div><div class="test-duration">0.358s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Socket.IO - Communications temps réel &gt; 7. Gestion des rooms (join/leave)</div><div class="test-title">leave_order fait quitter la room (pas de réception après leave)</div><div class="test-status">passed</div><div class="test-duration">0.443s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Socket.IO - Communications temps réel &gt; 8. Broadcast admin (notification globale)</div><div class="test-title">admin rejoint admin_dashboard et reçoit un broadcast</div><div class="test-status">passed</div><div class="test-duration">0.157s</div></div></div><div class="test-result failed"><div class="test-info"><div class="test-suitename">Socket.IO - Communications temps réel &gt; 9. Notification ciblée (un seul utilisateur)</div><div class="test-title">client reçoit un événement émis uniquement à sa room order_XXX</div><div class="test-status">failed</div><div class="test-duration">0.284s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Socket.IO - Communications temps réel &gt; 10. Gestion erreurs de connexion</div><div class="test-title">connexion sans token renvoie connect_error</div><div class="test-status">passed</div><div class="test-duration">0.008s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Socket.IO - Communications temps réel &gt; 10. Gestion erreurs de connexion</div><div class="test-title">token invalide renvoie connect_error</div><div class="test-status">passed</div><div class="test-duration">0.009s</div></div></div><div class="test-result passed"><div class="test-info"><div class="test-suitename">Socket.IO - Communications temps réel &gt; Vérifications: pas de perte de messages</div><div class="test-title">reçoit 5 order_status_changed sans perte</div><div class="test-status">passed</div><div class="test-duration">0.242s</div></div></div></div></div></div>
</body>
</html>